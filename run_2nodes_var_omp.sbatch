#!/bin/bash
# Arquivo: run_2nodes_var_omp.sbatch
# Teste: 2 N贸s, 2 Tasks MPI (Threads OMP: 1, 2, 4, 6)

# Diretivas SLURM
#SBATCH --job-name=Bench_N2_VAR
#SBATCH -p cpu
#SBATCH --output=Bench_N2_VAR_%j.out
#SBATCH --error=Bench_N2_VAR_%j.err

# Aloca莽茫o
#SBATCH --nodes=2
# 1 processo MPI por n贸
#SBATCH --ntasks-per-node=1
# Total de 2 tasks MPI (2 n贸s * 1 task/n贸)
#SBATCH --ntasks=2
#  CORREO: Aloca 6 CPUS por task para testar OMP_NUM_THREADS=6
#SBATCH --cpus-per-task=6
#  CORREO: Aloca 30GB (2 n贸s * 15GB/n贸)
#SBATCH --mem=30G

echo "Iniciando Job SLURM $SLURM_JOBID em 2 NS (2 Tasks, OMP vari谩vel 1-6, 20 RUNS)..."
./bench.sh
echo "Job SLURM $SLURM_JOBID conclu铆do."