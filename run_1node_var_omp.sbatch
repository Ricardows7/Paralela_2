#!/bin/bash
# Arquivo: run_1node_var_omp.sbatch
# Teste: 1 N칩, 1 Task MPI (Threads OMP: 1, 2, 4, 6)

# Diretivas SLURM
#SBATCH --job-name=Bench_N1_VAR
#SBATCH -p cpu
#SBATCH --output=Bench_N1_VAR_%j.out
#SBATCH --error=Bench_N1_VAR_%j.err

# Aloca칞칚o
#SBATCH --nodes=1
# Apenas 1 processo MPI
#SBATCH --ntasks-per-node=1
#SBATCH --ntasks=1
# 游 CORRE칂츾O: Aloca os 6 CPUS (n칰cleos) necess치rios para testar OMP_NUM_THREADS=6
#SBATCH --cpus-per-task=6 
# 游 CORRE칂츾O: Aloca 15GB, um valor seguro dado que o n칩 tem 16GB [cite: 20]
#SBATCH --mem=15G

echo "Iniciando Job SLURM $SLURM_JOBID em 1 N칍 (1 Task, OMP vari치vel 1-6, 20 RUNS)..."
./bench.sh
echo "Job SLURM $SLURM_JOBID conclu칤do."